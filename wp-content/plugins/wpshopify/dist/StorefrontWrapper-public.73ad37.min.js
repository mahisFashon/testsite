(self.webpackChunkwpshopify=self.webpackChunkwpshopify||[]).push([["StorefrontWrapper-public"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/hooks.jsx":function(e,o,n){"use strict";n.d(o,{f:function(){return a},D:function(){return s}});var t=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/context.js");function a(){var e=wp.element.useContext(t.p);if(!e)throw new Error("useStorefrontState must be used within the StorefrontProvider");return e}function s(){var e=wp.element.useContext(t.L);if(!e)throw new Error("useStorefrontDispatch must be used within the StorefrontProvider");return e}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/wrapper/index.jsx":function(e,o,n){"use strict";n.r(o),n.d(o,{default:function(){return C}});var t=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/hooks.jsx"),a=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isArray.js"),s=n.n(a),r=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),i=n.n(r),l=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isString.js"),d=n.n(l),p=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/mapKeys.js"),w=n.n(p),f=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/compact.js"),u=n.n(f),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/transform.js"),v=n.n(c),m=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/map.js"),h=n.n(m),_=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/has.js"),y=n.n(_),b=n("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js");function x(e,o){if(i()(e))return"*";var n=function(e){return w()(e,(function(e,o){return"tags"===o?"tag":"vendors"===o?"vendor":"types"===o?"product_type":"titles"===o?"title":o}))}(e),t=function(e){if(!e)return"";var o=e.map(S);return i()(o)?"":o.join(" ")}(function(e,o,n){return u()(o.map((function(o,t){if("available_for_sale"!==o&&!i()(e[o]))return d()(e[o])?o+':"'+e[o]+'"':e[o].map((function(e,t,a){if(a.length-1!==t)var s=" "+n.toUpperCase();else s="";return o+':"'+e+'"'+s}))})))}(n,Object.keys(n),o));return y()(n,"available_for_sale")&&(e.available_for_sale?!0===e.available_for_sale[0]&&(t+=" available_for_sale:true"):t+=" available_for_sale:false"),""===t&&(t="*"),t}function S(e){return i()(e)?"":d()(e)?e:e.join(" ")}var j=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/forOwn.js"),E=n.n(j),C=function(e){var o=e.children,n=e.itemsState,a=e.itemsDispatch,r=wp.element,i=r.useEffect,l=(0,r.useRef)(!0),p=(0,t.f)(),w=(0,t.D)();return i((function(){if(l.current)return e=p.payloadSettings.filterParams,o=v()((0,b.G_)(e),(function(e,o,n){return"productType"===n?n="types":"availableForSale"===n?(n="available_for_sale","available"!==o&&"any"!==o||(o=!0)):n+="s",s()(o)?e[n]=h()(o,(function(e){return d()(o)?e.toLowerCase():e})):d()(o)?e[n]=[o.toLowerCase()]:e[n]=[o]}),{}),w({type:"SET_SELECTIONS",payload:o}),E()(o,(function(e,o){"available_for_sale"!==o&&"availableForSale"!==o&&w({type:"SET_SELECTED_"+o.toUpperCase(),payload:e})})),void(l.current=!1);var e,o;a({type:"MERGE_QUERY_PARAMS",payload:{query:x(p.selections,n.payloadSettings.connective)}})}),[p.selections]),o}}}]);