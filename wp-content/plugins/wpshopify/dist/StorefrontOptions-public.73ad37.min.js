(self.webpackChunkwpshopify=self.webpackChunkwpshopify||[]).push([["StorefrontOptions-public"],{"../../../../../devil/devilbox-new/data/www/wpshopify-components/common/selections/index.jsx":function(e,t,n){"use strict";n.d(t,{Lh:function(){return u},Sf:function(){return f},fo:function(){return m}});var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/union.js"),s=n.n(o),i=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/without.js"),r=n.n(i),a=(n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/difference.js"),n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js")),p=n.n(a),l=(n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/hasIn.js"),n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isString.js")),d=n.n(l),c=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js");function w(e){return e.isSelected?s()([e.selectedValue],e.currentList):r()((t=e.currentList)?t.map((function(e){return e.toLowerCase()})):[],e.selectedValue);var t}function u(e){var t=Object.keys(e);return p()(t)||(0,c.z)(e)?[]:t}function f(e,t){var n={};return n[e]=t,n}function m(e,t,n,o){if(!e)return w({currentList:o[t]});if(d()(e))var s=e.toLowerCase();else s=e;return w({isSelected:!n,currentList:o[t],selectedValue:s})}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/hooks.jsx":function(e,t,n){"use strict";n.d(t,{f:function(){return s},D:function(){return i}});var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/context.js");function s(){var e=wp.element.useContext(o.p);if(!e)throw new Error("useStorefrontState must be used within the StorefrontProvider");return e}function i(){var e=wp.element.useContext(o.L);if(!e)throw new Error("useStorefrontDispatch must be used within the StorefrontProvider");return e}},"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/options/index.jsx":function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var o=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/_state/hooks.jsx"),s=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),r=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/immutability-helper/index.js"),p=n.n(a);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){switch(t.type){case"SET_IS_BOOTSTRAPPING":return d(d({},e),{},{isBootstrapping:p()(e.isBootstrapping,{$set:t.payload})});case"SET_FILTER_OPTIONS":return d(d({},e),{},{filterOptions:p()(e.filterOptions,{$set:t.payload})});default:throw new Error("Unhandled action type: ".concat(t.type," in StorefrontOptionsReducer"))}}var w=wp.element.createContext();function u(e){var t=wp.element.useReducer(c,(e.options,{isBootstrapping:!0,filterOptions:[]})),n=(0,i.Z)(t,2),o=n[0],r=n[1],a=wp.element.useMemo((function(){return[o,r]}),[o]);return React.createElement(w.Provider,(0,s.Z)({value:a},e))}var f=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),m=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@babel/runtime/regenerator/index.js"),h=n.n(m),y=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/await-to-js/dist/await-to-js.es5.js"),v=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/utils/index.js"),b=function(){return React.createElement(v.ce,{name:"default.storefront.types.heading"},wp.i18n.__("Types","wpshopify"))},g=function(){return React.createElement(v.ce,{name:"default.storefront.vendors.heading"},wp.i18n.__("Vendors","wpshopify"))},S=function(){return React.createElement(v.ce,{name:"default.storefront.tags.heading"},wp.i18n.__("Tags","wpshopify"))},x=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),O={name:"6vi5e-FilterCSS",styles:"margin-bottom:5px;label:FilterCSS;"},_={name:"1xtj7h9-filterHeadingCSS",styles:"font-size:16px;background:blue;transition:all 0.3s ease;background:#dfdfdf;padding:0.5em;margin:0;position:relative;&:hover{cursor:pointer;background-color:#d1d1d1;};label:filterHeadingCSS;"};function j(e){var t=e.heading,n=e.children,o=e.isOpen,s=e.setIsOpen,i=_,r=(0,x.iv)("position:absolute;width:14px;height:14px;display:inline-block;right:1em;top:calc(50% - 7px);&:before,&:after{content:'';position:absolute;background-color:#111;transition:transform 0.3s ease;}&:before{top:0;left:50%;width:3px;height:100%;margin-left:-1px;transform:",o?"rotate(90deg)":"rotate(180deg)",";}&:after{top:50%;left:0;width:100%;height:3px;margin-top:-1px;};label:drawerIconCSS;"),a=O,p=(0,x.iv)("max-height:",o?"350px":"0",";overflow:",o?"scroll":"hidden",";;label:drawerContentCSS;");return(0,x.tZ)("div",{className:"wps-filter",css:a,"data-wps-drawer-toggle":o},(0,x.tZ)("h3",{className:"wps-drawer-trigger wps-filter-heading",css:i,onClick:s},t,(0,x.tZ)("span",{className:"wps-drawer-icon",css:r})),(0,x.tZ)("div",{className:"wps-drawer-content",css:p},n))}var E=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/node_modules/lodash/isEmpty.js"),C=n.n(E),T=wp.element.lazy((function(){return n.e("StorefrontFilterOptionsGroupItems-public").then(n.bind(n,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/storefront/options/group-items/index.jsx"))})),R=wp.element.lazy((function(){return Promise.resolve().then(n.bind(n,"../../../../../devil/devilbox-new/data/www/wpshopify-components/components/notice/index.jsx"))})),Z={name:"qxrfgt-filterContentCSS",styles:"padding:10px 0;.components-notice{width:100%;}ul{list-style:none;padding:0;margin:0;};label:filterContentCSS;"},P=function(e){var t=e.groupType,n=e.displayStyle,o=e.heading,s=e.filterOptions,r=e.onSelectionChange,a=wp.element,p=a.useContext,l=a.useState,d=a.Suspense,c=p(w),u=(0,i.Z)(c,1)[0],f=l((function(){return!1})),m=(0,i.Z)(f,2),h=m[0],y=m[1],b=Z;return(0,x.tZ)(j,{heading:o,isOpen:h,setIsOpen:function(){y(!h)}},(0,x.tZ)("div",{className:"wps-filter-content",css:b},u.isBootstrapping?(0,x.tZ)(v.ce,{name:"storefront.group.loading.text"},(0,x.tZ)("p",null,wp.i18n.sprintf(wp.i18n.__("Loading %s ...","wpshopify"),t))):C()(s)?(0,x.tZ)(R,{status:"info",isDismissible:!1},(0,x.tZ)(v.ce,{name:"notice.storefront.noGroup.text"},wp.i18n.sprintf(wp.i18n.__("No %s found","wpshopify"),t))):(0,x.tZ)(d,{fallback:"Loading "+t+" ..."},h&&(0,x.tZ)(T,{onSelectionChange:r,filterOptions:s,displayStyle:n,groupType:t}))))},k=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/hooks/index.js"),I={name:"sbszwj-headingCSS",styles:"font-size:20px;label:headingCSS;"},L=function(e){var t=e.dropzone,n=I;return(0,k.vI)((0,x.tZ)("h2",{className:"wps-storefront-heading",css:n},(0,x.tZ)(v.ce,{name:"storefront.selections.filter.label"},wp.i18n.__("Filter by","wpshopify"))),document.querySelector(t))},N=n("../../../../../devil/devilbox-new/data/www/wpshopify-api/index.js"),z=n("../../../../../devil/devilbox-new/data/www/wpshopify-utils/index.js"),D=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/components/items/_state/hooks.jsx"),H=wp.element,V=H.useEffect,B=H.useContext,F=wp.element.memo((function(e){var t=e.payloadSettings,n=e.onSelectionChange,o=e.dropzoneHeading,s=B(w),r=(0,i.Z)(s,2),a=r[0],p=r[1],l=(0,D.O)();function d(){return(d=(0,f.Z)(h().mark((function e(){var t,n,o,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.Z)((0,N.mB)());case 2:t=e.sent,n=(0,i.Z)(t,2),o=n[0],s=n[1],o?l({type:"UPDATE_NOTICES",payload:{type:"error",message:wp.i18n.sprintf(wp.i18n.__("%s. Occurred when fetching available filter options. Please clear your browser cache and reload the page. ","wpshopify"),o.message)}}):p({type:"SET_FILTER_OPTIONS",payload:(0,z.RC)((0,z.J0)((0,z.lj)(s)))}),p({type:"SET_IS_BOOTSTRAPPING",payload:!1});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}V((function(){!function(){d.apply(this,arguments)}()}),[]);var c=(0,z.RV)(a.filterOptions.tags),u=(0,z.RV)(a.filterOptions.vendors),m=(0,z.RV)(a.filterOptions.types);return(0,k.vI)(React.createElement(React.Fragment,null,t.showOptionsHeading?React.createElement(L,{dropzone:o}):"",React.createElement("aside",{className:"wps-storefront"},t.showTags?React.createElement(P,{onSelectionChange:n,filterOptions:c,heading:React.createElement(S,null),groupType:"tags"}):"",t.showVendors?React.createElement(P,{onSelectionChange:n,heading:React.createElement(g,null),groupType:"vendors",displayStyle:"checkbox",filterOptions:u}):"",t.showTypes?React.createElement(P,{onSelectionChange:n,filterOptions:m,heading:React.createElement(b,null),groupType:"types",displayStyle:"checkbox"}):"")),document.querySelector(t.dropzoneOptions))})),A=n("../../../../../devil/devilbox-new/data/www/wpshopify-components/common/selections/index.jsx"),G=function(e){var t=e.payloadSettings,n=(e.itemsDispatch,(0,o.f)()),s=(0,o.D)();return React.createElement(u,null,React.createElement(F,{payloadSettings:t,onSelectionChange:function(e,t,o){var i=(0,A.fo)(e,t,o,n.selections);i&&(s({type:"SET_SELECTIONS",payload:(0,A.Sf)(t,i)}),s({type:"SET_SELECTED_"+t.toUpperCase(),payload:i}),i.length?s({type:"SET_HAS_SELECTIONS",payload:!0}):s({type:"SET_HAS_SELECTIONS",payload:!1}))},dropzoneHeading:n.payloadSettings.dropzoneHeading}))}}}]);